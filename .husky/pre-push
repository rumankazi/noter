echo "ğŸ” Running pre-push validation..."
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

# Run linting
echo "ğŸ“ Linting code..."
pnpm lint
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Linting failed. Fix the errors above before pushing."
  echo "ğŸ’¡ Run 'pnpm lint:fix' to auto-fix some issues."
  exit 1
fi
echo "âœ… Linting passed"
echo ""

# Run tests
echo "ğŸ§ª Running tests..."
pnpm test --run
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Tests failed. Fix the failing tests before pushing."
  exit 1
fi
echo "âœ… Tests passed"
echo ""

# Build application
echo "ğŸ—ï¸  Building application..."
pnpm build
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Build failed. Fix the build errors before pushing."
  exit 1
fi
echo "âœ… Build passed"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âœ¨ All checks passed! Proceeding with push..."
echo ""
